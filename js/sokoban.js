levelData01 = ["  www   ","  wpw   ","  w wwww","wwwc cpw","wp cywww","wwwwcw  ","   wpw  ","   www  "];
levelMap01 =  [[], [] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData02 = ["  wwwww ","www   w ","w c w ww","w w  p w","w    w w","wwcwp  w"," wy  www"," wwwww  "];
levelMap02 =  [[], [] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData03 = ["    wwwww          ","    w   w          ","    wc  w          ","  www  cww         ","  w  c c w         ","www w ww w   wwwwww","w   w ww wwwww  ppw","w c  c          ppw","wwwww www wyww  ppw","    w     wwwwwwwww","    wwwwwww        "];
levelMap03 =  [[], [] ,[] ,[] ,[] ,[] ,[] ,[], [], [], []];

levelData04 = ["wwwwwwwwwwww  ","wpp  w     www","wpp  w c  c  w","wpp  wcwwww  w","wpp    y ww  w","wpp  w w  c ww","wwwwww wwc c w","  w c  c c c w","  w    w     w","  wwwwwwwwwwww"];
levelMap04 =  [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], []];

levelData05 = ["        wwwwwwww ","        w     yw ","        w cwc ww ","        w c  cw  ","        wwc c w  ","wwwwwwwww c w www","wpppp  ww c  c  w","wwppp    c  c   w","wpppp  wwwwwwwwww","wwwwwwww         "];
levelMap05 =  [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], []];

levelData06 = ["           wwwwwwww","           w  ppppw","wwwwwwwwwwww  ppppw","w    w  c c   ppppw","w cccwc  c w  ppppw","w  c     c w  ppppw","w cc wc c cwwwwwwww","w  c w     w       ","ww wwwwwwwww       ","w    w    ww       ","w     c   ww       ","w  ccwcc  yw       ","w    w    ww       ","wwwwwwwwwww        "];
levelMap06 =  [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], [], [], [], []];

levelData07 = ["        wwwww    ","        w   wwwww","        w wcww  w","        w     c w","wwwwwwwww www   w","wpppp  ww c  cwww","wpppp    c cc ww ","wpppp  wwc  c yw ","wwwwwwwww  c  ww ","        w c c  w ","        www ww w ","          w    w ","          wwwwww "];
levelMap07 =  [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], [], [], []];

levelData08 = ["wwwwww  www ","wpp  w wwyww","wpp  www   w","wpp     cc w","wpp  w w c w","wppwww w c w","wwww c wc  w","   w  cw c w","   w c  c  w","   w  ww   w","   wwwwwwwww"];
levelMap08 =  [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], []];

levelData09 = ["       wwwww "," wwwwwww   ww","ww w yww cc w","w    c      w","w  c  www   w","www wwwwwcwww","w c  www ppw ","w c c c pppw ","w    wwwpppw ","w cc w wpppw ","w  www wwwww ","wwww         "];
levelMap09 =  [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], [], []];

levelData10 = ["wwwwwww","w  w  w","w  c  w","w aaa w","w  p yw","wwwwwww"];
levelMap10 =  [[] ,[] ,[] ,[] ,[] ,[]];

levelData11 = ["  wwww          ","  w  wwwwwwwwwww","  w    c   c c w","  w cw c w  c  w","  w  c c  w    w","www cw w  wwww w","wywc c c  ww   w","w    c wcw   w w","w   c    c c c w","wwwww  wwwwwwwww","  w      w      ","  w      w      ","  wppppppw      ","  wppppppw      ","  wppppppw      ","  wwwwwwww      "];
levelMap11 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData12 = ["          wwwwwww","          w  pppw","      wwwww  pppw","      w      p pw","      w  ww  pppw","      ww ww  pppw","     www wwwwwwww","     w ccc ww    "," wwwww  c c wwwww","ww   wc c   w   w","wy c  c    c  c w","wwwwww cc c wwwww","     w      w    ","     wwwwwwww    "];
levelMap12 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData13 = [" www  wwwwwwwwwwwww","wwywwww       w   w","w cc   cc  c c pppw","w  cccw    c  wpppw","w c   w cc cc wpppw","www   w  c    wpppw","w     w c c c wpppw","w    wwwwww wwwpppw","ww w  w  c c  wpppw","w  ww w cc c cwwppw","w ppw w  c      wpw","w ppw w ccc ccc wpw","wwwww w       w wpw","    w wwwwwwwww wpw","    w           wpw","    wwwwwwwwwwwwwww"];
levelMap13 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData14 = ["          wwww     ","     wwww w  w     ","   www  wwwc w     ","  ww   y  c  w     "," ww  c ccww ww     "," w  wcww     w     "," w w c cc w www    "," w   c w  w c wwwww","wwww    w  cc w   w","wwww ww c         w","wp    www  wwwwwwww","wpp ppw wwww       ","wpppwpw            ","wpppppw            ","wwwwwww            "];
levelMap14 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData15 = ["wwwwwwwwwwwwwwww ","w              w ","w w wwwwww     w ","w w  c c c cw  w ","w w   cyc   ww ww","w w wc c cwwwpppw","w w   c c  wwpppw","w wwwccc c wwpppw","w     w ww wwpppw","wwwww   ww wwpppw","    wwwww     www","        w     w  ","        wwwwwww  "];
levelMap15 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData16 = ["   wwwwwwwww       ","  ww   ww  wwwwww  ","www     w  w    www","w  c wc w  w  ppp w","w w cwycww w wpwp w","w  w wc  w    p p w","w c    c w w wpwp w","w   ww  wwc c p p w","w c w   w  wcwpwp w","ww c  c   c  cppp w"," wc wwwwww    ww  w"," w  w    wwwwwwwwww"," wwww              "];
levelMap16 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData17 = ["       wwwwwww    "," wwwwwww     w    "," w     w cyc w    "," wcc w   wwwwwwwww"," w wwwppppppww   w"," w   cppppppww w w"," w wwwpppppp     w","ww   wwww www wcww","w  wc   w  c  w w ","w  c ccc  w cww w ","w   c c wwwcc w w ","wwwww     c   w w ","    www www   w w ","      w     w   w ","      wwwwwwww  w ","             wwww "];
levelMap17 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData18 = ["   wwwwwwww      ","   w   w  w      ","   w  c   w      "," www wc   wwww   "," w  c  wwc   w   "," w  w y c w cw   "," w  w      c wwww"," ww wwwwcww     w"," w cwpppppw w   w"," w  cppaap cw www","ww  wpppppw   w  ","w   www wwwwwww  ","w cc  w  w       ","w  w     w       ","wwwwww   w       ","     wwwww       "];
levelMap18 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData19 = ["wwwww         ","w   ww        ","w    w  wwww  ","w c  wwww  w  ","w  cc c   cw  ","wwwy wc    ww "," w  ww  c c ww"," w c  ww ww pw"," w  wcwwc  wpw"," www   cppwwpw","  w    wpapppw","  w cc wpppppw","  w  wwwwwwwww","  w  w        ","  wwww        "];
levelMap19 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData20 = ["wwwwwww","w     w","w     w","wwacaww","w pyp w","w aca w","w  w  w","wwwwwww"];
levelMap20 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData21 = ["   wwwwwwwwww   ","   wpp  w   w   ","   wpp      w   ","   wpp  w  wwww ","  wwwwwww  w  ww","  w            w","  w  w  ww  w  w","wwww ww  wwww ww","w  c  wwwww w  w","w w c  c  w c  w","w yc  c   w   ww","wwww ww wwwwwww ","   w    w       ","   wwwwww       "];
levelMap21 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData22 = ["     wwwwwwwwwww   ","     w  p  w   w   ","     w wp    y w   "," wwwww wwppw wwww  ","ww  w ppwww     www","w c wppp   c w  c w","w    pp ww  ww ww w","wwwwcwwcw c w   w w","  ww w    wc cc w w","  w  c w w  w cww w","  w               w","  w  wwwwwwwwwww  w","  wwww         wwww"];
levelMap22 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData23 = ["  wwwwww           ","  w   ywwww        ","wwwww c   w        ","w   ww    wwww     ","w c w  ww    w     ","w c w  wwwww w     ","ww c  c    w w     ","ww c c www w w     ","ww w  c  w w w     ","ww w wcw   w w     ","ww www   w w wwwwww","w  c  wwww w wppppw","w    c    c   ppwpw","wwwwc  cw c   ppppw","w       w  ww ppppw","wwwwwwwwwwwwwwwwwww"];
levelMap23 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData24 = ["    wwwwwwwwww     ","wwwww        wwww  ","w     w   c  wy w  ","w wwwwwwwcwwww  www","w w    ww w  wc ppw","w w c  c  w  w  wpw","w w c  w     wc ppw","w w  www ww     wpw","w www  w  w  wc ppw","w w    w cwwww  wpw","w wc   c  c  wa ppw","w    c w c c w  wpw","wwww cwww    wa ppw","   w    cc wwwppppw","   w      ww wwwwww","   wwwwwwww        "];
levelMap24 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData25 = ["wwwwwwwww      ","w       w      ","w       wwww   ","ww wwww w  w   ","ww wyww    w   ","w ccc c  ccw   ","w  w ww c  w   ","w  w ww  c wwww","wwww  ccc cw  w"," w   ww   ppppw"," w w   w wpp pw"," w   w w wwpppw"," wwwww c  wpppw","     ww   wwwww","      wwwww    "];
levelMap25 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData26 = ["wwwwww     wwww    ","w    wwwwwww  wwwww","w   cw  w  c  w   w","w  c  c  c w c c  w","wwc c   w yw c    w","w  c wwwwwwwwwww ww","w w   wpppppppw cw ","w ww  w ppppppw  w ","w w   cppppppppc w ","w w c wpppp ppw  w ","w  c cwwwwcwwww cw ","w c   www c   c  ww","w c     c c  c    w","ww wwwwww c wwwww w","w         w       w","wwwwwwwwwwwwwwwwwww"];
levelMap26 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData27 = ["    wwwwwww        ","    w  w  wwww     ","wwwww cwc w  ww    ","wpp w  w  w   w    ","wpp w cwc w  cwwww ","wp  w     wc  w  w ","wpp   cw  w c    w ","wppyw  wc wc  w  w ","wpp w cw     cw  w ","wpp w  wccwc  w  ww","wpp w cw  w  cwc  w","wpp w  w  w   w   w","wwp wwww  wwwww   w"," wwww  wwww   wwwww"];
levelMap27 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData28 = ["wwwwwwwwwwwwwww    ","wpppppppppp  pwwww ","wppppppppppccpw  w ","wwwwwwwwwwwc w   ww","w      c  c     c w","ww wwww   w  c w  w","w      w   ww  w ww","w  cw  w ww  www ww","w c wcwww    www ww","www  c w  w  www ww","www    c ww w  w ww"," w c  w  c  c c   w"," w  c  cwccc  w   w"," w  w  c      wwwww"," w yww  w  w  w    "," wwwwwwwwwwwwww    "];
levelMap28 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData29 = ["wwww               ","w  wwwwwwwwwwwwww  ","w  w   ppwppppppw  ","w  w w wwwww pppw  ","wwcw    ppppppppw  ","w   wwcwwwwww  wwww","w c w     wwwwwwy w","wwc w c   wwwwww  w","w  c wcccww       w","w      w    wcwcwww","w wwww wccccc    w ","w w    c     w   w ","w w   ww ww     www","w wwwwwwcwwwwww c w","w        w    w   w","wwwwwwwwww    wwwww"];
levelMap29 =  [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];

levelData30 = ["  wwwww","  w   w","www apw","wycc  w","w c ppw","www   w","  wwwww"];
levelMap30 =  [[] ,[] ,[] ,[] ,[] ,[] ,[]];

var storageLevelValue = eval('levelData' + window.localStorage.getItem("currentLevel"));
var storageLevelMap = eval('levelMap' + window.localStorage.getItem("currentLevel"));
var storagedunnoLevel = 'level' + window.localStorage.getItem("currentLevel");

function sokolevel() {  
(function() {var levelData = storageLevelValue, level = storageLevelMap;
var x, y, dx, dy, bck, bckc, cell, backCell, fwdCell, fwd2cell, level00 = document.getElementById(storagedunnoLevel);
for (var n = 0; n < levelData.length; n++)
     for (var m = 0; m < levelData[n].length; m++) {
        div = document.createElement('div');
         level[n].push(div);
         div.className = levelData[n][m] == ' ' ? 's' : levelData[n][m];
         level00.appendChild(div);
         if (levelData[n][m] == 'y')  x = m, y = n; }
 window.addEventListener('keydown', function(e) {
     if (e.key == "ArrowLeft" || e.key == "a") dx = -1, dy = 0, bck = 'left';
     else if (e.key == "ArrowRight" || e.key == "d") dx = 1, dy = 0, bck = 'right';
     else if (e.key == "ArrowUp" || e.key == "w") dx = 0, dy = -1, bck = 'up';
     else if (e.key == "ArrowDown" || e.key == "s") dx = 0, dy = 1, bck = 'down';
     else return;
     if ((fwdCell = level[y + dy][x + dx]).className == 'w') return;
     var cell = level[y][x];

     if (fwdCell.className == 'c' || fwdCell.className == 'a') 
     {
         var fwd2cell = level[y + dy + dy][x + dx + dx];
         if (fwd2cell.className == 'w' || fwd2cell.className == 'c' || fwd2cell.className == 'a') return;
         fwd2cell.className = fwd2cell.className == 'p' ? 'a' : 'c';
         fwdCell.className = fwdCell.className == 'a' ? 'p' : 's'; 
    }

     if (fwdCell.className == 'w') return;
     cell.className = cell.className == 'Y' ? 'p' : 's';
     fwdCell.className = fwdCell.className == 'p' ? 'Y' : 'y';
     x += dx; y += dy;
     for (var n = 0; n < level.length; n++)
         for (var m = 0; m < level[n].length; m++)
             if (level[n][m].className == 'c') return;

nextLevel = (parseInt(window.localStorage.getItem("currentLevel")) + 01).toString().padStart(2,0); //add +1 to level and use 2-digit formatting like 01 02 03 etc.
window.localStorage.setItem("currentLevel", nextLevel);
window.sessionStorage.setItem("reloading", "true"); 
window.location.reload(false);
 }); })();  }