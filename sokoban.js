levelData01 = ["  www   ","  wpw   ","  w wwww","wwwc cpw","wp cywww","wwwwcw  ","   wpw  ","   www  "]; levelMap01 = [[], [] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData02 = ["  wwwww ","www   w ","w c w ww","w w  p w","w    w w","wwcwp  w"," wy  www"," wwwww  "]; levelMap02 = [[], [] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData03 = ["    wwwww          ","    w   w          ","    wc  w          ","  www  cww         ","  w  c c w         ","www w ww w   wwwwww","w   w ww wwwww  ppw","w c  c          ppw","wwwww www wyww  ppw","    w     wwwwwwwww","    wwwwwww        "]; levelMap03 = [[], [] ,[] ,[] ,[] ,[] ,[] ,[], [], [], []];
levelData04 = ["wwwwwwwwwwww  ","wpp  w     www","wpp  w c  c  w","wpp  wcwwww  w","wpp    y ww  w","wpp  w w  c ww","wwwwww wwc c w","  w c  c c c w","  w    w     w","  wwwwwwwwwwww"]; levelMap04 = [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], []];
levelData05 = ["        wwwwwwww ","        w     yw ","        w cwc ww ","        w c  cw  ","        wwc c w  ","wwwwwwwww c w www","wpppp  ww c  c  w","wwppp    c  c   w","wpppp  wwwwwwwwww","wwwwwwww         "]; levelMap05 = [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], []];
levelData06 = ["           wwwwwwww","           w  ppppw","wwwwwwwwwwww  ppppw","w    w  c c   ppppw","w cccwc  c w  ppppw","w  c     c w  ppppw","w cc wc c cwwwwwwww","w  c w     w       ","ww wwwwwwwww       ","w    w    ww       ","w     c   ww       ","w  ccwcc  yw       ","w    w    ww       ","wwwwwwwwwww        "]; levelMap06 = [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], [], [], [], []];
levelData07 = ["        wwwww    ","        w   wwwww","        w wcww  w","        w     c w","wwwwwwwww www   w","wpppp  ww c  cwww","wpppp    c cc ww ","wpppp  wwc  c yw ","wwwwwwwww  c  ww ","        w c c  w ","        www ww w ","          w    w ","          wwwwww "]; levelMap07 = [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], [], [], []];
levelData08 = ["wwwwww  www ","wpp  w wwyww","wpp  www   w","wpp     cc w","wpp  w w c w","wppwww w c w","wwww c wc  w","   w  cw c w","   w c  c  w","   w  ww   w","   wwwwwwwww"]; levelMap08 = [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], []];
levelData09 = ["       wwwww "," wwwwwww   ww","ww w yww cc w","w    c      w","w  c  www   w","www wwwwwcwww","w c  www ppw ","w c c c pppw ","w    wwwpppw ","w cc w wpppw ","w  www wwwww ","wwww         "]; levelMap09 = [[] ,[] ,[] ,[] ,[] ,[] ,[], [], [], [], [], []];
levelData10 = ["qqqqqqq","q  q  q","q  c  q","q aaa q","q  p yq","qqqqqqq"]; levelMap10 = [[] ,[] ,[] ,[] ,[] ,[]];
levelData11 = ["  qqqq          ","  q  qqqqqqqqqqq","  q    c   c c q","  q cq c q  c  q","  q  c c  q    q","qqq cq q  qqqq q","qyqc c c  qq   q","q    c qcq   q q","q   c    c c c q","qqqqq  qqqqqqqqq","  q      q      ","  q      q      ","  qppppppq      ","  qppppppq      ","  qppppppq      ","  qqqqqqqq      "]; levelMap11 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData12 = ["          qqqqqqq","          q  pppq","      qqqqq  pppq","      q      p pq","      q  qq  pppq","      qq qq  pppq","     qqq qqqqqqqq","     q ccc qq    "," qqqqq  c c qqqqq","qq   qc c   q   q","qy c  c    c  c q","qqqqqq cc c qqqqq","     q      q    ","     qqqqqqqq    "]; levelMap12 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData13 = [" qqq  qqqqqqqqqqqqq","qqyqqqq       q   q","q cc   cc  c c pppq","q  cccq    c  qpppq","q c   q cc cc qpppq","qqq   q  c    qpppq","q     q c c c qpppq","q    qqqqqq qqqpppq","qq q  q  c c  qpppq","q  qq q cc c cqqppq","q ppq q  c      qpq","q ppq q ccc ccc qpq","qqqqq q       q qpq","    q qqqqqqqqq qpq","    q           qpq","    qqqqqqqqqqqqqqq"]; levelMap13 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData14 = ["          qqqq     ","     qqqq q  q     ","   qqq  qqqc q     ","  qq   y  c  q     "," qq  c ccqq qq     "," q  qcqq     q     "," q q c cc q qqq    "," q   c q  q c qqqqq","qqqq    q  cc q   q","qqqq qq c         q","qp    qqq  qqqqqqqq","qpp ppq qqqq       ","qpppqpq            ","qpppppq            ","qqqqqqq            "]; levelMap14 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData15 = ["qqqqqqqqqqqqqqqq ","q              q ","q q qqqqqq     q ","q q  c c c cq  q ","q q   cyc   qq qq","q q qc c cqqqpppq","q q   c c  qqpppq","q qqqccc c qqpppq","q     q qq qqpppq","qqqqq   qq qqpppq","    qqqqq     qqq","        q     q  ","        qqqqqqq  "]; levelMap15 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData16 = ["   qqqqqqqqq       ","  qq   qq  qqqqqq  ","qqq     q  q    qqq","q  c qc q  q  ppp q","q q cqycqq q qpqp q","q  q qc  q    p p q","q c    c q q qpqp q","q   qq  qqc c p p q","q c q   q  qcqpqp q","qq c  c   c  cppp q"," qc qqqqqq    qq  q"," q  q    qqqqqqqqqq"," qqqq              "]; levelMap16 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData17 = ["       qqqqqqq    "," qqqqqqq     q    "," q     q cyc q    "," qcc q   qqqqqqqqq"," q qqqppppppqq   q"," q   cppppppqq q q"," q qqqpppppp     q","qq   qqqq qqq qcqq","q  qc   q  c  q q ","q  c ccc  q cqq q ","q   c c qqqcc q q ","qqqqq     c   q q ","    qqq qqq   q q ","      q     q   q ","      qqqqqqqq  q ","             qqqq "]; levelMap17 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData18 = ["   qqqqqqqq      ","   q   q  q      ","   q  c   q      "," qqq qc   qqqq   "," q  c  qqc   q   "," q  q y c q cq   "," q  q      c qqqq"," qq qqqqcqq     q"," q cqpppppq q   q"," q  cppaap cq qqq","qq  qpppppq   q  ","q   qqq qqqqqqq  ","q cc  q  q       ","q  q     q       ","qqqqqq   q       ","     qqqqq       "]; levelMap18 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData19 = ["qqqqq         ","q   qq        ","q    q  qqqq  ","q c  qqqq  q  ","q  cc c   cq  ","qqqy qc    qq "," q  qq  c c qq"," q c  qq qq pq"," q  qcqqc  qpq"," qqq   cppqqpq","  q    qpapppq","  q cc qpppppq","  q  qqqqqqqqq","  q  q        ","  qqqq        "]; levelMap19 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData20 = ["eeeeeee","e     e","e     e","eeacaee","e pyp e","e aca e","e  e  e","eeeeeee"]; levelMap20 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData21 = ["   eeeeeeeeee   ","   epp  e   e   ","   epp      e   ","   epp  e  eeee ","  eeeeeee  e  ee","  e            e","  e  e  ee  e  e","eeee ee  eeee ee","e  c  eeeee e  e","e e c  c  e c  e","e yc  c   e   ee","eeee ee eeeeeee ","   e    e       ","   eeeeee       "]; levelMap21 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData22 = ["     eeeeeeeeeee   ","     e  p  e   e   ","     e ep    y e   "," eeeee eeppe eeee  ","ee  e ppeee     eee","e c eppp   c e  c e","e    pp ee  ee ee e","eeeeceece c e   e e","  ee e    ec cc e e","  e  c e e  e cee e","  e               e","  e  eeeeeeeeeee  e","  eeee         eeee"]; levelMap22 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData23 = ["  eeeeee           ","  e   yeeee        ","eeeee c   e        ","e   ee    eeee     ","e c e  ee    e     ","e c e  eeeee e     ","ee c  c    e e     ","ee c c eee e e     ","ee e  c  e e e     ","ee e ece   e e     ","ee eee   e e eeeeee","e  c  eeee e eppppe","e    c    c   ppepe","eeeec  ce c   ppppe","e       e  ee ppppe","eeeeeeeeeeeeeeeeeee"]; levelMap23 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData24 = ["    eeeeeeeeee     ","eeeee        eeee  ","e     e   c  ey e  ","e eeeeeeeceeee  eee","e e    ee e  ec ppe","e e c  c  e  e  epe","e e c  e     ec ppe","e e  eee ee     epe","e eee  e  e  ec ppe","e e    e ceeee  epe","e ec   c  c  ea ppe","e    c e c c e  epe","eeee ceee    ea ppe","   e    cc eeeppppe","   e      ee eeeeee","   eeeeeeee        "]; levelMap24 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData25 = ["eeeeeeeee      ","e       e      ","e       eeee   ","ee eeee e  e   ","ee eyee    e   ","e ccc c  cce   ","e  e ee c  e   ","e  e ee  c eeee","eeee  ccc ce  e"," e   ee   ppppe"," e e   e epp pe"," e   e e eepppe"," eeeee c  epppe","     ee   eeeee","      eeeee    "]; levelMap25 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData26 = ["eeeeee     eeee    ","e    eeeeeee  eeeee","e   ce  e  c  e   e","e  c  c  c e c c  e","eec c   e ye c    e","e  c eeeeeeeeeee ee","e e   epppppppe ce ","e ee  e ppppppe  e ","e e   cppppppppc e ","e e c epppp ppe  e ","e  c ceeeeceeee ce ","e c   eee c   c  ee","e c     c c  c    e","ee eeeeee c eeeee e","e         e       e","eeeeeeeeeeeeeeeeeee"]; levelMap26 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData27 = ["    eeeeeee        ","    e  e  eeee     ","eeeee cec e  ee    ","epp e  e  e   e    ","epp e cec e  ceeee ","ep  e     ec  e  e ","epp   ce  e c    e ","eppye  ec ec  e  e ","epp e ce     ce  e ","epp e  eccec  e  ee","epp e ce  e  cec  e","epp e  e  e   e   e","eep eeee  eeeee   e"," eeee  eeee   eeeee"]; levelMap27 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData28 = ["eeeeeeeeeeeeeee    ","epppppppppp  peeee ","eppppppppppccpe  e ","eeeeeeeeeeec e   ee","e      c  c     c e","ee eeee   e  c e  e","e      e   ee  e ee","e  ce  e ee  eee ee","e c eceee    eee ee","eee  c e  e  eee ee","eee    c ee e  e ee"," e c  e  c  c c   e"," e  c  ceccc  e   e"," e  e  c      eeeee"," e yee  e  e  e    "," eeeeeeeeeeeeee    "]; levelMap28 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData29 = ["eeee               ","e  eeeeeeeeeeeeee  ","e  e   ppeppppppe  ","e  e e eeeee pppe  ","eece    ppppppppe  ","e   eeceeeeee  eeee","e c e     eeeeeey e","eec e c   eeeeee  e","e  c ecccee       e","e      e    ececeee","e eeee eccccc    e ","e e    c     e   e ","e e   ee ee     eee","e eeeeeeceeeeee c e","e        e    e   e","eeeeeeeeee    eeeee"]; levelMap29 = [[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[] ,[]];
levelData30 = ["  rrrrr","  r   r","rrr apr","rycc  r","r c ppr","rrr   r","  rrrrr"]; levelMap30 = [[] ,[] ,[] ,[] ,[] ,[] ,[]];

var storageLevelValue = eval('levelData' + window.localStorage.getItem("currentLevel"));
var storageLevelMap = eval('levelMap' + window.localStorage.getItem("currentLevel"));
var storagedunnoLevel = 'level' + window.localStorage.getItem("currentLevel");

function sokolevel() {  
(function() {var levelData = storageLevelValue, level = storageLevelMap;
var x, y, dx, dy, cell, fwdCell, fwd2cell, level00 = document.getElementById(storagedunnoLevel);
for (var n = 0; n < levelData.length; n++)
     for (var m = 0; m < levelData[n].length; m++) {
         level[n].push(div = document.createElement('div'));
         div.className = levelData[n][m] == ' ' ? 's' : levelData[n][m];
         level00.appendChild(div);
         if (levelData[n][m] == 'y')  x = m, y = n; }
 window.addEventListener('keydown', function(e) {
     if (e.key == "ArrowLeft" || e.key == "a") dx = -1, dy = 0;
     else if (e.key == "ArrowRight" || e.key == "d") dx = 1, dy = 0;
     else if (e.key == "ArrowUp" || e.key == "w") dx = 0, dy = -1;
     else if (e.key == "ArrowDown" || e.key == "s") dx = 0, dy = 1;
     else return;
     if ((fwdCell = level[y + dy][x + dx]).className == 'w' || (fwdCell = level[y + dy][x + dx]).className == 'q' || (fwdCell = level[y + dy][x + dx]).className == 'e' || (fwdCell = level[y + dy][x + dx]).className == 'r') return;
     var cell = level[y][x];
     if (fwdCell.className == 'c' || fwdCell.className == 'a') {
         var fwd2cell = level[y + dy + dy][x + dx + dx];
         if (fwd2cell.className == 'w' || fwd2cell.className == 'q' || fwd2cell.className == 'e' || fwd2cell.className == 'r' || fwd2cell.className == 'c' || fwd2cell.className == 'a')
             return;
         fwd2cell.className = fwd2cell.className == 'p' ? 'a' : 'c';
         fwdCell.className = fwdCell.className == 'a' ? 'p' : 's'; }
     if (fwdCell.className == 'w' || fwdCell.className == 'q' || fwdCell.className == 'e' || fwdCell.className == 'r') return;
     cell.className = cell.className == 'Y' ? 'p' : 's';
     fwdCell.className = fwdCell.className == 'p' ? 'Y' : 'y';
     x += dx; y += dy;
     for (var n = 0; n < level.length; n++)
         for (var m = 0; m < level[n].length; m++)
             if (level[n][m].className == 'c') return;

nextLevel = (parseInt(window.localStorage.getItem("currentLevel")) + 01).toString().padStart(2,0); //add +1 to level and use 2-digit formatting like 01 02 03 etc.
window.localStorage.setItem("currentLevel", nextLevel); 
window.location.reload(false);
 }); })();  }